# Выпускной проект: Анализ поведения пользователей приложения, проверка результатов А/В-тестирования и решение задач через SQL-запросы к базе данных.
___
### Задачи проекта:

Задачи выпускного проекта напрямую связаны с задачами отдельных исследовательских работ, из которых он состоит:

 1. Цель работы "Анализ поведения пользователей приложения "Ненужные вещи"" - выявить и описать поведение аудитории приложения "Ненужные вещи" (доска онлайн-обьявлений по продаже вещей) для оптимизации привлечения новых и удержания текущих пользователей. Для этого был проведен исследовательский анализ предоставленных данных, событийная аналитика поведения пользователей, проверены статистические гипотезы, а также подготовлен дашборд Tableau и презентация по результатам.

 2. Цель работы "Анализ проведения и результатов А/В-тестирования" - провести оценку результатов A/B-теста, используя датасет с действиями пользователей, техническое задание и несколько вспомогательных датасетов. Была оценена корректность проведения и результатов теста: пересечение тестовой аудитории с конкурирующим тестом, совпадение теста и маркетинговых событий, другие возможные проблемы временных границ теста, проведен исследовательский анализ данных и проверены статистические гипотезы о разнице конверсий в целевое действие у наблюдаемых групп.

 3. Цель работы "Исследование данных сервиса для чтения книг" - проанализировать базу данных сервиса для чтения книг по подписке. В ней содержится информация о книгах, издательствах, авторах, а также пользовательские обзоры книг - эти данные помогут сформулировать ценностное предложение для нового продукта. Данная работа была выполнена путем запросов к базе данных через библиотеку `SQLAlchemy`.

### Инструменты:

*Python (matplotlib, pandas, numpy, seaborn, scipy, plotly, sqlalchemy), исследовательский анализ данных, A/B-тестирование, проверка статистических гипотез*
___
### Описание проекта

Далее перечислены этапы исследования для каждой работы:

**Ход работы - Анализ поведения пользователей приложения "Ненужные вещи"**:<a name="0"></a>


1. [**Первичный осмотр данных**](#1)

*Загрузка датасетов, вывод общей информации об исходных данных и детальной информации о столбцах датасетов.*

2. [**Предобработка данных**](#2)

*Обработка пропусков, выбросов, явных и неявных дубликатов на основе выводов из первичного осмотра.*

3. [**Исследовательский анализ данных**](#3)

*Проведение исследовательского анализа данных (EDA), выделения групп пользователей по метрикам:*
- Retention Rate
- Время, проведённое в приложении
- Частота действий
- Конверсия в целевое действие (просмотр контактов).


*По результатам исследовательского анализа провести сегментацию пользователей и ответить на следующие вопросы заказчика:*

 - Пользователи какой группы склонны часто возвращаться в мобильное приложение (Retention rate)?
 - Пользователи какой группы часто делают целевое событие (конверсия в целевое действие)?

4. [**Проверка статистических гипотез**](#4)

*Проверить следующие статистические гипотезы:*

- Проверка гипотезы различия конверсии в просмотры контактов между теми пользователями, которые пришли с источника `yandex` и пользователей, пришедшими из источника `google`. Дополнить её нулевой и альтернативной гипотезами и провести статистический тест.


- Проверка гипотезы различия конверсии в просмотры контактов между теми пользователями, которые добавили обьявление в избранное (действие `favorites_add`) и пользователями, которые не добавляли. Дополнить её нулевой и альтернативной гипотезами и провести статистический тест.

5. [**Общие выводы и рекомендации**](#5)

*Обьединить промежуточные выводы каждого этапа и на их основе сформулировать рекомендации для заказчика.*

---

**Ход работы - Анализ проведения и результатов А/В-тестирования**: <a name='0'></a>

Данное исследование пройдет в несколько этапов:

1. [**Первичный обзор данных.**](#1)

*Загрузка и исследование данные*:
- *Требуется ли преобразование типов?*
- *Присутствуют ли пропущенные значения и дубликаты? Если да, то какова их природа?*
- *Время проведения теста. Убедиться, что оно не совпадает с маркетинговыми и другими активностями.*
- *Аудиторию теста. Удостовериться, что нет пересечений с конкурирующим тестом и нет пользователей, участвующих в двух группах теста одновременно. Проверка равномерность распределения пользователей по тестовым группам и правильность их формирования.*

2. [**Предобработка данных.**](#2)

*На основе выводов и наблюдений из предыдущего этапа провести предобработку данных для дальнейшего анализа и соответствие данных требованиям технического задания.*

3. [**Исследовательский анализ данных.**](#3)

*Провести исследовательский анализ данных:*
- *Количество событий на пользователя одинаково распределены в выборках?*
- *Как число событий в выборках распределено по дням?*
- *Как меняется конверсия в воронке в выборках на разных этапах?*
- *Какие особенности данных нужно учесть, прежде чем приступать к A/B-тестированию?*

4. [**Проверка результатов А/В-тестирования.**](#4)

*Проведите оценку результатов A/B-тестирования:*
- *Что можно сказать про результаты A/B-тестирования?*
- *Проверка статистической разницы долей z-критерием*


5. [**Общие выводы и рекомендации.**](#5)

*Сделать общее заключение о корректности проведения теста, написать возможные рекомендации и собрать промежуточные выводы предыдущих этапов.*

---

**Ход работы - Исследование данных сервиса для чтения книг**:<a name='0'></a>

Данная работа будет проведена в несколько этапов:


1. [Первичный осмотр данных.](#1)

*Импорт библиотек для работы, загрузка баз данных и знакомство с содержащимися данными.*

2. [Предобработка данных.](#2)

*Подготовка данных для дальнейшей работы: устранение пропусков, дубликатов, выбросов и других аномальных значений.*

3. [Решение задач.](#3)

*Ответить на следующие вопросы о данных датасетов:*

- Сколько книг вышло после 1 января 2000 года?

- Какое количество обзоров и средняя оценка у каждой книги?

- Какое издательство выпустило наибольшее число книг толще 50 страниц (исключение из анализа брошюр)?

- У какого автора самая высокая средняя оценка книг (только книги с 50 и более оценками)?

- Какое среднее количество обзоров у пользователей, которые поставили больше 50 оценок?


4. [Общие выводы и рекомендации.](#4)

*Но основе промежуточных наблюдений каждого этапа составить общий вывод о проделанной работе и сформулировать рекомендации для заказчика.*
___
### Итоговые выводы и рекомендации:

**Анализ поведения пользователей приложения "Ненужные вещи"**:

- Рекомендуется сделать больше пуш-уведомлений для людей, которые зарегистрировались более 7 дней назад, чтобы поднять их активность (это могут быть напоминания об отложенных в "избранное" товарах или просто напоминание о сервисе).


- Рекомендуется сделать дизайн-изменения в интерфейсе приложения, чтобы у людей не было чувство усталости от одного и того же продукта - к примеру, делать баннеры на главном экране в связи с новыми акциями.


- Добавить в выгружаемые данные взаимодействие пользователя с приложением на техническом уровне (начало/конец сессии, уход в фоновый режим, акции/скидки внутри приложения, и т.п.) для более точных результатов дальнейших исследований. Можно добавить событие, когда пользователь видит главную страницу приложения, с которой начинаются его другие события; добавить разные маркеры события при просмотре контактов пользователем в зависимости от того, рекомендованное это обьявление или нет; добавить id обьявления, с которым взаимодействует пользователь для более детального изучения пути пользователя (т.е., у каждого события кроме `search` и `tips_show` должно быть свое id).


- Пользователи события `favorites_add` показали более высокий уровень конверсии в целевое действие относительно пользователей, которые не совершали данное событие. Вместе с этим целевые пользователи события `favorites_add` составляют всего 8% от целевых пользователей. Рекомендуется провести А/В-тестирование изменения внешнего вида или расположения кнопки события, чтобы привлечь большее количество пользователей к данному событию. 


- Количество новых пользователей равномерно растет с каждым днем. Несмотря на это количество уникальных пользователей и количество событий на сайте в разрезе дат не показывает однозначного роста. Рекомендуется провести отдельное исследование взаимодействия пользователей с приложением.


**Анализ проведения и результатов А/В-тестирования**:


- Воронка событий в разрезе групп теста не показала значимой разницы между показателями конверсии пользователей контрольной и экспериментальной групп - можно отметить немного различающиеся показатели групп в пределах 1-3% от конверсии, но желаемого влияния на экспериментальную группу, описанного в ТЗ, нет.


- Статистическая проверка равенства долей конверсии каждого события через Z-тест не смогла отвергнуть поставленную нулевую гипотезу: конверсии события от общего числа пользователей в выборке между двумя группами не имеют статистически значимой разницы. Из этого можно сделать вывод о неэффективности изменений интерфейса для группы В - указанного в ТЗ влияния на конверсию в целевые события не обнаружено.


- На этапах работы с данными были обнаружены технические проблемы - крупная часть пользователей попала в два разных A/B-теста, треть пользователей не относится к целевому региону, одна из маркетинговых компаний должна была начаться за день до конца одного тестирования. Всё это указывает на серьезные нарушения при формировании групп тестирования. Рекомендуется пересмотреть подходы к дизайну и проведению А/В-тестирования в будущем.


- При проведении тестирования необходимо организовать промежуточную оценку результатов - графики показывают явные аномальные значения 14 и 21 декабря, всего через неделю после начала теста. При должном промежуточном контроле тест можно было вовремя остановить и проанализировать возможные причины подобных проблем.


- В случае наличия критичных для конверсии пользовательских инструментов (например, "покупка в один клик") - эта информация должна быть указана в документации к тесте для корректного анализа результатов.


**Исследование данных сервиса для чтения книг**:


1. **Сколько книг вышло после 1 января 2000 года?**

**Ответ:** 

*В таблице содержится **819** уникальных книг, выпущенных после 01.01.2001 - что составляет более 80% всего ассортимента.*


2. **Какое количество обзоров и средняя оценка у каждой книги?**

**Ответ**:

*Максимальное кол-во обзоров у книги **Twilight (Twilight #1) - 7**, затем следует множество книг с количеством обзоров - 6, средняя оценка в диапазоне **3.8 - 4.2**. В данных не просмотривается корреляция средней оценки и количества отзывов - большая популярность книги вовсе не означает высокий рейтинг и наоборот, не у всех высокооценённых книг есть отзывы от пользователей.*


3. **Какое издательство выпустило наибольшее число книг толще 50 страниц (исключение из анализа брошюр)?**

**Ответ**:

*Издательство **`Penguin Books`** выпустило наибольшее количество полноформатных книг - **42**, далее следуют издательства `Vintage`(31) и `Grand Central Publishing`(25).*


4. **У какого автора самая высокая средняя оценка книг (только книги с 50 и более оценками)?**

**Ответ**:

*Cамая высокая средняя оценка у автора **J.K. Rowling** (автор) / Mary GrandPré (иллюстратор) - **4.29**, далее **Markus Zusak** (автор) / Cao Xuân Việt Khương (переводчик на вьетнамский язык) - **4.26** и **J.R.R. Tolkien** - **4.26**.*


5. **Какое среднее количество обзоров у пользователей, которые поставили больше 50 оценок?**

**Ответ**:

*Пользователи, оценившие более 50 фильмов, оставляют в среднем около **24** рецензий, другими словами - рецензия на каждый второй оценённый фильм.*

---

**Рекомендации**:

- Записи столбца `author` таблицы `authors` умещают в одну строку не только автора, но и соавторов, переводчиков, иллюстраторов и т.п. - не исключено, что из-за данного формата записи имена авторов могут дублироваться. Рекомендуется вынести авторов и коллаборантов в разные столбцы для большей ясности.


- Были также обнаружены неявные дубликаты в столбце `publisher` таблицы `publishers` - рекомендуется исследовать содержимое столбца в отдельной работе для проверки актуальности данных и правописания названий.

___

